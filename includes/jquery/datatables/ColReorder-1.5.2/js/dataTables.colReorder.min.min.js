/*! ColReorder 1.5.2
 * Â©2010-2019 SpryMedia Ltd - datatables.net/license
 */
(function(b){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(a){return b(a,window,document)})}else{if(typeof exports==="object"){module.exports=function(a,d){if(!a){a=window}if(!d||!d.fn.dataTable){d=require("datatables.net")(a,d).$}return b(d,a,a.document)}}else{b(jQuery,window,document)}}}(function(o,n,m,q){var p=o.fn.dataTable;function l(a){var b=[];for(var c=0,d=a.length;c<d;c++){b[a[c]]=c}return b}function k(c,a,b){var d=c.splice(a,1)[0];c.splice(b,0,d)}function r(a,e,f){var b=[];for(var c=0,d=a.childNodes.length;c<d;c++){if(a.childNodes[c].nodeType==1){b.push(a.childNodes[c])}}var g=b[e];if(f!==null){a.insertBefore(g,b[f])}else{a.appendChild(g)}}o.fn.dataTableExt.oApi.fnColReorder=function(K,c,J,H,I){var b,e,d,E,f,F=K.aoColumns.length,L,O;var a=function(u,t,v){if(!u[t]||typeof u[t]==="function"){return}var s=u[t].split(".");var w=s.shift();if(isNaN(w*1)){return}u[t]=v[w*1]+"."+s.join(".")};if(c==J){return}if(c<0||c>=F){this.oApi._fnLog(K,1,"ColReorder 'from' index is out of bounds: "+c);return}if(J<0||J>=F){this.oApi._fnLog(K,1,"ColReorder 'to' index is out of bounds: "+J);return}var i=[];for(b=0,e=F;b<e;b++){i[b]=b}k(i,c,J);var G=l(i);for(b=0,e=K.aaSorting.length;b<e;b++){K.aaSorting[b][0]=G[K.aaSorting[b][0]]}if(K.aaSortingFixed!==null){for(b=0,e=K.aaSortingFixed.length;b<e;b++){K.aaSortingFixed[b][0]=G[K.aaSortingFixed[b][0]]}}for(b=0,e=F;b<e;b++){O=K.aoColumns[b];for(d=0,E=O.aDataSort.length;d<E;d++){O.aDataSort[d]=G[O.aDataSort[d]]}O.idx=G[O.idx]}o.each(K.aLastSort,function(s,t){K.aLastSort[s].src=G[t.src]});for(b=0,e=F;b<e;b++){O=K.aoColumns[b];if(typeof O.mData=="number"){O.mData=G[O.mData]}else{if(o.isPlainObject(O.mData)){a(O.mData,"_",G);a(O.mData,"filter",G);a(O.mData,"sort",G);a(O.mData,"type",G)}}}if(K.aoColumns[c].bVisible){var g=this.oApi._fnColumnIndexToVisible(K,c);var N=null;b=J<c?J:J+1;while(N===null&&b<F){N=this.oApi._fnColumnIndexToVisible(K,b);b++}L=K.nTHead.getElementsByTagName("tr");for(b=0,e=L.length;b<e;b++){r(L[b],g,N)}if(K.nTFoot!==null){L=K.nTFoot.getElementsByTagName("tr");for(b=0,e=L.length;b<e;b++){r(L[b],g,N)}}for(b=0,e=K.aoData.length;b<e;b++){if(K.aoData[b].nTr!==null){r(K.aoData[b].nTr,g,N)}}}k(K.aoColumns,c,J);for(b=0,e=F;b<e;b++){K.oApi._fnColumnOptions(K,b,{})}k(K.aoPreSearchCols,c,J);for(b=0,e=K.aoData.length;b<e;b++){var h=K.aoData[b];var M=h.anCells;if(M){k(M,c,J);for(d=0,f=M.length;d<f;d++){if(M[d]&&M[d]._DT_CellIndex){M[d]._DT_CellIndex.column=d}}}if(h.src!=="dom"&&o.isArray(h._aData)){k(h._aData,c,J)}}for(b=0,e=K.aoHeader.length;b<e;b++){k(K.aoHeader[b],c,J)}if(K.aoFooter!==null){for(b=0,e=K.aoFooter.length;b<e;b++){k(K.aoFooter[b],c,J)}}if(I||I===q){o.fn.dataTable.Api(K).rows().invalidate()}for(b=0,e=F;b<e;b++){o(K.aoColumns[b].nTh).off(".DT");this.oApi._fnSortAttachListener(K,K.aoColumns[b].nTh,b)}o(K.oInstance).trigger("column-reorder.dt",[K,{from:c,to:J,mapping:G,drop:H,iFrom:c,iTo:J,aiInvertMapping:G}])};var j=function(a,b){var c=new o.fn.dataTable.Api(a).settings()[0];if(c._colReorder){return c._colReorder}if(b===true){b={}}var d=o.fn.dataTable.camelToHungarian;if(d){d(j.defaults,j.defaults,true);d(j.defaults,b||{})}this.s={dt:null,enable:null,init:o.extend(true,{},j.defaults,b),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]};this.dom={drag:null,pointer:null};this.s.enable=this.s.init.bEnable;this.s.dt=c;this.s.dt._colReorder=this;this._fnConstruct();return this};o.extend(j.prototype,{fnEnable:function(a){if(a===false){return fnDisable()}this.s.enable=true},fnDisable:function(){this.s.enable=false},fnReset:function(){this._fnOrderColumns(this.fnOrder());return this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(a,g){var b=[],c,i,d,h;var e=this.s.dt.aoColumns;if(a===q){for(c=0,i=e.length;c<i;c++){b.push(e[c]._ColReorder_iOrigCol)}return b}if(g){var f=this.fnOrder();for(c=0,i=a.length;c<i;c++){b.push(o.inArray(a[c],f))}a=b}this._fnOrderColumns(l(a));return this},fnTranspose:function(c,b){if(!b){b="toCurrent"}var d=this.fnOrder();var a=this.s.dt.aoColumns;if(b==="toCurrent"){return !o.isArray(c)?o.inArray(c,d):o.map(c,function(e){return o.inArray(e,d)})}else{return !o.isArray(c)?a[c]._ColReorder_iOrigCol:o.map(c,function(e){return a[e]._ColReorder_iOrigCol})}},_fnConstruct:function(){var e=this;var d=this.s.dt.aoColumns.length;var f=this.s.dt.nTable;var g;if(this.s.init.iFixedColumns){this.s.fixed=this.s.init.iFixedColumns}if(this.s.init.iFixedColumnsLeft){this.s.fixed=this.s.init.iFixedColumnsLeft}this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0;if(this.s.init.fnReorderCallback){this.s.reorderCallback=this.s.init.fnReorderCallback}for(g=0;g<d;g++){if(g>this.s.fixed-1&&g<d-this.s.fixedRight){this._fnMouseListener(g,this.s.dt.aoColumns[g].nTh)}this.s.dt.aoColumns[g]._ColReorder_iOrigCol=g}this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(i,h){e._fnStateSave.call(e,h)},"ColReorder_State");var c=null;if(this.s.init.aiOrder){c=this.s.init.aiOrder.slice()}if(this.s.dt.oLoadedState&&typeof this.s.dt.oLoadedState.ColReorder!="undefined"&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length){c=this.s.dt.oLoadedState.ColReorder}if(c){if(!e.s.dt._bInitComplete){var a=false;o(f).on("draw.dt.colReorder",function(){if(!e.s.dt._bInitComplete&&!a){a=true;var h=l(c);e._fnOrderColumns.call(e,h)}})}else{var b=l(c);e._fnOrderColumns.call(e,b)}}else{this._fnSetColumnIndexes()}o(f).on("destroy.dt.colReorder",function(){o(f).off("destroy.dt.colReorder draw.dt.colReorder");o.each(e.s.dt.aoColumns,function(i,h){o(h.nTh).off(".ColReorder");o(h.nTh).removeAttr("data-column-index")});e.s.dt._colReorder=null;e.s=null})},_fnOrderColumns:function(c){var e=false;if(c.length!=this.s.dt.aoColumns.length){this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");return}for(var b=0,d=c.length;b<d;b++){var a=o.inArray(b,c);if(b!=a){k(c,a,b);this.s.dt.oInstance.fnColReorder(a,b,true,false);e=true}}this._fnSetColumnIndexes();if(!e){return}o.fn.dataTable.Api(this.s.dt).rows().invalidate();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}},_fnStateSave:function(c){var f,h,a,d;var i=this.s.dt;var g=i.aoColumns;c.ColReorder=[];if(c.aaSorting){for(f=0;f<c.aaSorting.length;f++){c.aaSorting[f][0]=g[c.aaSorting[f][0]]._ColReorder_iOrigCol}var e=o.extend(true,[],c.aoSearchCols);for(f=0,h=g.length;f<h;f++){d=g[f]._ColReorder_iOrigCol;c.aoSearchCols[d]=e[f];c.abVisCols[d]=g[f].bVisible;c.ColReorder.push(d)}}else{if(c.order){for(f=0;f<c.order.length;f++){c.order[f][0]=g[c.order[f][0]]._ColReorder_iOrigCol}var b=o.extend(true,[],c.columns);for(f=0,h=g.length;f<h;f++){d=g[f]._ColReorder_iOrigCol;c.columns[d]=b[f];c.ColReorder.push(d)}}}},_fnMouseListener:function(c,a){var b=this;o(a).on("mousedown.ColReorder",function(d){if(b.s.enable&&d.which===1){b._fnMouseDown.call(b,d,a)}}).on("touchstart.ColReorder",function(d){if(b.s.enable){b._fnMouseDown.call(b,d,a)}})},_fnMouseDown:function(f,a){var c=this;var b=o(f.target).closest("th, td");var e=b.offset();var d=parseInt(o(a).attr("data-column-index"),10);if(d===q){return}this.s.mouse.startX=this._fnCursorPosition(f,"pageX");this.s.mouse.startY=this._fnCursorPosition(f,"pageY");this.s.mouse.offsetX=this._fnCursorPosition(f,"pageX")-e.left;this.s.mouse.offsetY=this._fnCursorPosition(f,"pageY")-e.top;this.s.mouse.target=this.s.dt.aoColumns[d].nTh;this.s.mouse.targetIndex=d;this.s.mouse.fromIndex=d;this._fnRegions();o(m).on("mousemove.ColReorder touchmove.ColReorder",function(g){c._fnMouseMove.call(c,g)}).on("mouseup.ColReorder touchend.ColReorder",function(g){c._fnMouseUp.call(c,g)})},_fnMouseMove:function(c){var d=this;if(this.dom.drag===null){if(Math.pow(Math.pow(this._fnCursorPosition(c,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(c,"pageY")-this.s.mouse.startY,2),0.5)<5){return}this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(c,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(c,"pageY")-this.s.mouse.offsetY});var b;var e=this.s.mouse.toIndex;var h=this._fnCursorPosition(c,"pageX");var f=function(s){while(s>=0){s--;if(s<=0){return null}if(d.s.aoTargets[s+1].x!==d.s.aoTargets[s].x){return d.s.aoTargets[s]}}};var i=function(){for(var s=0;s<d.s.aoTargets.length-1;s++){if(d.s.aoTargets[s].x!==d.s.aoTargets[s+1].x){return d.s.aoTargets[s]}}};var a=function(){for(var s=d.s.aoTargets.length-1;s>0;s--){if(d.s.aoTargets[s].x!==d.s.aoTargets[s-1].x){return d.s.aoTargets[s]}}};for(var g=1;g<this.s.aoTargets.length;g++){var u=f(g);if(!u){u=i()}var v=u.x+(this.s.aoTargets[g].x-u.x)/2;if(this._fnIsLtr()){if(h<v){b=u;break}}else{if(h>v){b=u;break}}}if(b){this.dom.pointer.css("left",b.x);this.s.mouse.toIndex=b.to}else{this.dom.pointer.css("left",a().x);this.s.mouse.toIndex=a().to}if(this.s.init.bRealtime&&e!==this.s.mouse.toIndex){this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex);this.s.mouse.fromIndex=this.s.mouse.toIndex;if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this._fnRegions()}},_fnMouseUp:function(a){var b=this;o(m).off(".ColReorder");if(this.dom.drag!==null){this.dom.drag.remove();this.dom.pointer.remove();this.dom.drag=null;this.dom.pointer=null;this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,true);this._fnSetColumnIndexes();if(this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!==""){this.s.dt.oInstance.fnAdjustColumnSizing(false)}this.s.dt.oInstance.oApi._fnSaveState(this.s.dt);if(this.s.reorderCallback!==null){this.s.reorderCallback.call(this)}}},_fnRegions:function(){var a=this.s.dt.aoColumns;var c=this._fnIsLtr();this.s.aoTargets.splice(0,this.s.aoTargets.length);var i=o(this.s.dt.nTable).offset().left;var d=[];o.each(a,function(z,x){if(x.bVisible&&x.nTh.style.display!=="none"){var w=o(x.nTh);var y=w.offset().left;if(c){y+=w.outerWidth()}d.push({index:z,bound:y});i=y}else{d.push({index:z,bound:i})}});var e=d[0];var b=o(a[e.index].nTh).outerWidth();this.s.aoTargets.push({to:0,x:e.bound-b});for(var f=0;f<d.length;f++){var g=d[f];var h=g.index;if(g.index<this.s.mouse.fromIndex){h++}this.s.aoTargets.push({to:h,x:g.bound})}if(this.s.fixedRight!==0){this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight)}if(this.s.fixed!==0){this.s.aoTargets.splice(0,this.s.fixed)}},_fnCreateDragNode:function(){var e=this.s.dt.oScroll.sX!==""||this.s.dt.oScroll.sY!=="";var b=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh;var c=b.parentNode;var a=c.parentNode;var d=a.parentNode;var f=o(b).clone();this.dom.drag=o(d.cloneNode(false)).addClass("DTCR_clonedTable").append(o(a.cloneNode(false)).append(o(c.cloneNode(false)).append(f[0]))).css({position:"absolute",top:0,left:0,width:o(b).outerWidth(),height:o(b).outerHeight()}).appendTo("body");this.dom.pointer=o("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:e?o("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:o(this.s.dt.nTable).offset().top,height:e?o("div.dataTables_scroll",this.s.dt.nTableWrapper).height():o(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){o.each(this.s.dt.aoColumns,function(b,a){o(a.nTh).attr("data-column-index",b)})},_fnCursorPosition:function(b,a){if(b.type.indexOf("touch")!==-1){return b.originalEvent.touches[0][a]}return b[a]},_fnIsLtr:function(){return o(this.s.dt.nTable).css("direction")!=="rtl"}});j.defaults={aiOrder:null,bEnable:true,bRealtime:true,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null};j.version="1.5.2";o.fn.dataTable.ColReorder=j;o.fn.DataTable.ColReorder=j;if(typeof o.fn.dataTable=="function"&&typeof o.fn.dataTableExt.fnVersionCheck=="function"&&o.fn.dataTableExt.fnVersionCheck("1.10.8")){o.fn.dataTableExt.aoFeatures.push({fnInit:function(d){var b=d.oInstance;if(!d._colReorder){var a=d.oInit;var c=a.colReorder||a.oColReorder||{};new j(d,c)}else{b.oApi._fnLog(d,1,"ColReorder attempted to initialise twice. Ignoring second")}return null},cFeature:"R",sFeature:"ColReorder"})}else{alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download")}o(m).on("preInit.dt.colReorder",function(a,d){if(a.namespace!=="dt"){return}var e=d.oInit.colReorder;var b=p.defaults.colReorder;if(e||b){var c=o.extend({},e,b);if(e!==false){new j(d,c)}}});o.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(a){a._colReorder.fnReset()})});o.fn.dataTable.Api.register("colReorder.order()",function(a,b){if(a){return this.iterator("table",function(c){c._colReorder.fnOrder(a,b)})}return this.context.length?this.context[0]._colReorder.fnOrder():null});o.fn.dataTable.Api.register("colReorder.transpose()",function(b,a){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(b,a):b});o.fn.dataTable.Api.register("colReorder.move()",function(a,b,d,c){if(this.context.length){this.context[0]._colReorder.s.dt.oInstance.fnColReorder(a,b,d,c);this.context[0]._colReorder._fnSetColumnIndexes()}return this});o.fn.dataTable.Api.register("colReorder.enable()",function(a){return this.iterator("table",function(b){if(b._colReorder){b._colReorder.fnEnable(a)}})});o.fn.dataTable.Api.register("colReorder.disable()",function(){return this.iterator("table",function(a){if(a._colReorder){a._colReorder.fnDisable()}})});return j}));